# UI/UX Design Rules - Japan Ranranru Racing Association

本ドキュメントは、アプリケーション設計・実装における「絶対的な指針」とします。
単なる見た目の良さではなく、「ユーザーの行動を科学的に誘導し、最高の体験を提供する」ことを目的とします。

---

## 1. 情報設計とレイアウト (Information Architecture & Layout)

ユーザーが迷わず、直感的に情報を取得できる構造を作ります。

### 1.1 視覚的階層 (Visual Hierarchy) & ビジュアル・アンカー (Visual Anchor)

- **原則**: 重要な要素を視覚的に強調し、ユーザーの視線を誘導する。
- **適用**:
  - **CTAボタン**: 「購入する」「参加する」などの主要アクションは、`Button` コンポーネントのデフォルトスタイル（`bg-primary` / ブランドブルー #3b82f6）を使用し、黒背景の使用は避ける。
  - **情報の優先度**: オッズ > 馬名 > 詳細データ のように、重要度に応じてフォントサイズとウェイトに明確な差をつける。

### 1.2 親近性バイアス (Familiarity Bias) & スキューモーフィズム (Skeuomorphism)

- **原則**: ユーザーが既知のパターンやメンタルモデルを利用して直感的に操作できるようにする。
- **適用**:
  - **ナビゲーション**: 一般的なスマホアプリと同様に、画面下部にタブバーを配置する（ホーム、レース、マイページ）。
  - **メタファー**: 「馬券」のデザインを現実のチケット風にする（スキューモーフィズムの適度な利用）ことで、直感的な理解を助ける。

### 1.3 系列位置効果 (Serial Position Effect)

- **原則**: リストの「最初」と「最後」が最も記憶に残りやすい。
- **適用**:
  - **メニュー配置**: 最も重要な機能（「レース一覧」と「マイページ」）をメニューの左端と右端に配置する。
  - **リスト表示**: 注目レースをリストの一番上に配置する。

### 1.4 バナー・ブラインドネス (Banner Blindness) & 選択的注意 (Selective Attention)

- **原則**: 広告のように見える要素は無意識に無視される。また、ユーザーは目的に関係ない情報を無視する。
- **適用**:
  - **重要情報の提示**: 重要な通知やボタンを「バナー風」にせず、コンテンツの一部として自然に組み込む。
  - **ノイズの除去**: 馬券購入フローでは、購入に関係ない情報（他のレースの広告など）を徹底的に排除する。

---

## 2. 認知負荷の軽減とスムーズな操作 (Reducing Friction & Cognitive Load)

「考えさせない」UIを目指します。

### 2.1 認知負荷 (Cognitive Load) & 段階的開示 (Progressive Disclosure)

- **原則**: 一度に提示する情報量を制限し、必要に応じて詳細を表示する。
- **適用**:
  - **馬情報**: 一覧では「馬名」「オッズ」のみ表示し、タップで「過去の戦績」「血統」などの詳細を展開（アコーディオンUIやモーダル）する。
  - **ステップ実行**: 会員登録や馬券購入などの複雑なタスクは、1画面1タスクに分割する。

### 2.2 決断疲れ (Decision Fatigue)

- **原則**: 選択肢が多すぎると、ユーザーは選ぶことをやめてしまう（決定麻痺）。
- **適用**:
  - **推奨セット**: 「人気順」「高配当狙い」などのプリセット購入オプションを用意する。
  - **選択肢の絞り込み**: ベット画面でのデフォルト金額の選択肢を3〜4つに絞る。

### 2.3 反応型オンボーディング (Reactive Onboarding)

- **原則**: ユーザーがつまずいた時や、新機能を使う瞬間にのみヘルプを表示する。
- **適用**:
  - **コンテキストヘルプ**: ユーザーが初めて「3連単」を選択した時にのみ、賭け方の説明チップを表示する。強制的なチュートリアルツアーは廃止する。

### 2.4 ドハティの閾値 (Doherty Threshold: 0.4秒の壁)

- **原則**: 0.4秒以内の応答で、ユーザーはシステムを自分の延長のように感じる。
- **適用**:
  - **即時フィードバック**: ボタンを押した瞬間（サーバーレスポンス待ちの間）に、UIを「処理中」状態やOptimistic UI（成功したと仮定した表示）に切り替える。
  - **リアルタイム同期**: SSEイベントを活用し、管理者のアクション（締切・再開・確定）をユーザー画面に即座に反映させることで、システムとの一体感を高める。
  - **スケルトンスクリーン**: ローディング中はスピナーではなく、コンテンツの骨組みを表示して体感待機時間を減らす。

---

## 3. 意思決定の促進と行動誘導 (Persuasion & Decision Making)

ユーザーが迷わず「アクション」を起こせるよう後押しします。

### 3.1 デフォルト効果 (Default Bias) & おとり効果 (Decoy Effect)

- **原則**: デフォルトの選択肢が最も選ばれやすい。また、魅力のない選択肢（おとり）があると、ターゲットの選択肢が輝く。
- **適用**:
  - **デフォルト金額**: ベット金額の初期値を、運営が推奨する単価（例: 500円）に設定する。
  - **松竹梅の法則**: ポイント購入などで、売りたいプラン（竹）の横に、割高なプラン（梅）や機能不足なプラン（松）を並べて比較させる。

### 3.2 社会的証明 (Social Proof) & バンドワゴン効果

- **原則**: 他人の行動を見ると、自分も同じ行動を取りたくなる。
- **適用**:
  - **人気表示**: 「現在1,200人がこのレースに参加中！」「一番人気の買い目」を表示する。
  - **的中速報**: 「UserXさんが 10,000pt 当選しました！」というテロップを流す。

### 3.3 希少性 (Scarcity) & 損失回避 (Loss Aversion)

- **原則**: 手に入りにくいものほど価値を感じる。利益を得るより損失を避ける方を優先する。
- **適用**:
  - **期限の強調**: 「締め切りまであと 5分」「残り枠わずか」を赤文字で強調する。
  - **キッチンタイマー**: 管理パネルに「あと何分」を可視化するタイマーを導入し、運営の緊迫感と正確性を両立させる。
  - **機会損失の示唆**: 「このレースを見逃すと、次のG1までチャンスはありません」といったコピー。

### 3.4 アンカー効果 (Anchor Effect) & フレーミング効果 (Framing Effect)

- **原則**: 最初に提示された数字が基準になる。情報の切り口で印象が変わる。
- **適用**:
  - **高額配当の提示**: 「最高配当 1,000,000pt」を大きく表示し、期待値のアンカー（基準）を高く設定する。
  - **ポジティブフレーミング**: 「的中率20%」ではなく「5回に1回当たるチャンス！」と表現する。

---

## 4. エンゲージメントと継続利用 (Engagement & Retention)

「また使いたい」と思わせる中毒性（HOOKモデル）を作り出します。

### 4.1 ゲーミフィケーション & 変動型報酬 (Variable Reward)

- **原則**: 予測できない報酬がドーパミンを分泌させ、ハマらせる。
- **適用**:
  - **ガチャ演出**: レース結果や報酬獲得時に、派手でランダム性のある演出（宝箱が開くなど）を入れる。
  - **ログインボーナス**: 毎日異なる、予測できない報酬を与える。

### 4.2 目標勾配効果 (Goal Gradient Effect) & ツァイガルニク効果 (Zeigarnik Effect)

- **原則**: ゴールが近いとやる気が出る。未完了のタスクは気になる。
- **適用**:
  - **プログレスバー**: 「ランクアップまであと少し！」「ミッション達成度 80%」を可視化。
  - **バッジ通知**: 未読のお知らせや未達成ミッションに赤いバッジ（通知ドット）を付ける。

### 4.3 好奇心ギャップ (Curiosity Gap)

- **原則**: 情報の一部を隠すことで、知りたいという欲求を刺激する。
- **適用**:
  - **袋とじ**: 「予想の達人の買い目を見る（クリックして表示）」のように、情報を隠してタップを促す。

### 4.4 授かり効果 (Endowment Effect) & ユーザー歓喜効果 (User Delight)

- **原則**: 自分が所有するものに価値を感じる。予想外の喜びがファンを作る。
- **適用**:
  - **My馬カスタマイズ**: 自分のアバターや馬の装飾機能（将来的に）。
  - **マイクロインタラクション**: 「いいね」や「的中」した瞬間に、紙吹雪が舞うなどの細かい演出を入れる。

### 4.5 プライミング効果 (Priming)

- **原則**: 事前の刺激が後の行動に影響を与える。
- **適用**:
  - **イメージ付け**: ベット画面に行く前に、勝利して喜んでいる画像や、金貨の山などのビジュアルを見せ、ポジティブなイメージを刷り込む。

### 4.6 ピグマリオン効果 (Pygmalion Effect)

- **原則**: 期待をかけられると、人はその期待に応えようとする。
- **適用**:
  - **励ましのメッセージ**: 「あなたなら勝てる！」「センスが良いですね」といったポジティブなフィードバックをUIコピーに含める。

---

## 5. 信頼と倫理 (Trust & Ethics)

ユーザーを操作しすぎず、信頼関係を築きます。

### 5.1 ハロー効果 (Halo Effect)

- **原則**: 一つの優れた特徴（見た目の良さなど）が全体の評価を高める。
- **適用**:
  - **トップページのクオリティ**: アプリの顔となるトップページやヒーローヘッダーは、最高品質の画像とデザインを使用し、アプリ全体の信頼性を底上げする。

### 5.2 誘導抵抗 (Reactance) & 意図的な壁 (Intentional Friction)

- **原則**: 強制されると反発したくなる。重要な決定には確認が必要。
- **適用**:
  - **自由の尊重**: 全画面ポップアップ広告など、ユーザーの操作を強制的に遮る要素は（本当に重要な警告以外）避ける。
  - **誤操作防止**: 馬券購入の確定時や、取り消し時には「本当によろしいですか？」という確認ダイアログ（意図的な壁）を挟み、トラブルを防ぐ。

### 5.3 調査バイアス (Survey Bias) の回避

- **原則**: 偏ったデータに基づく改善は失敗する。
- **適用**:
  - **フィードバック収集**: ユーザーの声を聞く際は、特定の層（勝った人だけなど）に偏らないよう注意し、UI改善に活かす。

## 追加ルール

- 視認性
  - 小さすぎる文字は使用しない。最低でも12px以上は確保する。
  - TailwindCSSでは、 text-sm 以上のテキストサイズを必ず採用すること。
